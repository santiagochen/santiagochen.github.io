{"componentChunkName":"component---src-templates-post-post-jsx","path":"/blog/good-practise-sync-code","result":{"data":{"markdownRemark":{"html":"<h3>货物码同步总结</h3>\n<ul>\n<li><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACB0lEQVQoz01STWvbQBDV/78WWig5tPcWCqWX3tpLm2BoITHEcew0doP1aWm1q49drfTyZqMYH4bVm5mdffOeotF7vIY/i3EcoToLbQyqqoJzDnXvTrVh8NDEcm8YhpB3PKPBj7AEPYFceh0oTZlp0XUd+r4PzSUf8Dyl5tgjeOJwTFMI7zjw8uERv7ICa+bT4xG6rlFrDaUUkrIKZ8m8PFY2bfjWrFviVNUw/N5mOW5Lhcx5RNdVjUVvsRwnxHmBhis2TYOezJLakGEfhgmrWGk4awNumd8nGbI0xc/1Bt8PMbbDhOiBzK4BLLl6XqkwSAYK0yNXFjZFUYTcoSiDnopRsnd7SJAcDtS2R811jXWI7knzr59wM4zoKLRo1LQtLJsq0Ww2Qc5cGwwz2471/2mGJIl5x1HDMdyNWnGLYYLYPoShVsIiJUMRfxAHGYluUFDDirpa9qeUxJC5GBZ6xBRxaSKY5l8HoAZ4ca118vKcI4NOsNRC3YcVX77H0BMY+pkBp0FZj4t7jYs7xXUd/uQt3q0NcwZfdga/E4M3twrv1zU+PWpcpg3erhSu0hYfNhppY88GktGO1n9c/sO3o0XK4bHu8PnuCV93ORbHFlnrcFP2WFUWm9oiIV4Sx43DSlkY/uhnDEc8UZOrssSSC2R0vaXjP/Z7LKjTbvCn1V4lOOFZFln5Ga01TUKGclDZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"示意图\"\n        title=\"示意图\"\n        src=\"/static/6dc69957b39abc95c6894e89f5e00d80/332ff/demo.png\"\n        srcset=\"/static/6dc69957b39abc95c6894e89f5e00d80/3e256/demo.png 250w,\n/static/6dc69957b39abc95c6894e89f5e00d80/b30f8/demo.png 500w,\n/static/6dc69957b39abc95c6894e89f5e00d80/332ff/demo.png 1000w,\n/static/6dc69957b39abc95c6894e89f5e00d80/3baca/demo.png 1392w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">示意图</figcaption>\n  </figure></li>\n<li>\n<p>面临的场景</p>\n<ul>\n<li>描述: 对商品生成，装箱，一层层包装，一步步物流这整个流程的数据同步</li>\n<li>需要做什么</li>\n<li>记录商品,dozen,箱,托等等各层包装他们之间的关系</li>\n<li>记录每一步物流的信息（付费客户就多个上区块链的服务）</li>\n<li>保证消费者最终消费商品时，我们能提供该商品完整的物流信息链条</li>\n</ul>\n</li>\n<li>\n<p>抽象化</p>\n<ul>\n<li>商品-dozen-箱-托 即等同于菜单关系，它们之间是多级的树形关系。</li>\n<li>每一环的物流信息 即为捆绑在每一个树节点上所发生的故事</li>\n</ul>\n</li>\n<li>\n<p>表设计</p>\n<ul>\n<li>\n<p>flow </p>\n<table>\n<thead>\n<tr>\n<th>id</th>\n<th>detail</th>\n<th>addr</th>\n<th>...</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>JSON.stringify({...})</td>\n<td>上海</td>\n<td>...</td>\n</tr>\n<tr>\n<td>2</td>\n<td>JSON.stringify({...})</td>\n<td>连云港</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n<p>说明:</p>\n<ul>\n<li>id:自增id; </li>\n<li>detail:物流信息(不需要理解的数据都存一起就是了); </li>\n<li>addr:发生地点， 等等其他需要理解的字段(理解的字段可以理解为后续可能需要作筛选过滤条件的)</li>\n<li>\n<p>relation<em>flow</em>item</p>\n<table>\n<thead>\n<tr>\n<th>flowid</th>\n<th>itemid</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>25</td>\n</tr>\n<tr>\n<td>2</td>\n<td>24</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n<p>说明:</p>\n<ul>\n<li>flowid 物流ID</li>\n<li>itemid 物品ID</li>\n<li>\n<p>item </p>\n<table>\n<thead>\n<tr>\n<th>id</th>\n<th>name</th>\n<th>qrcode</th>\n<th>pid</th>\n<th>link</th>\n<th>...</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>x1</td>\n<td>balabala1</td>\n<td>0</td>\n<td>0_1</td>\n<td>...</td>\n</tr>\n<tr>\n<td>2</td>\n<td>x2</td>\n<td>balabala2</td>\n<td>1</td>\n<td>0<em>1</em>2</td>\n<td>...</td>\n</tr>\n<tr>\n<td>3</td>\n<td>x3</td>\n<td>balabala2</td>\n<td>2</td>\n<td>0<em>1</em>2_3</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n<p>说明:</p>\n<ul>\n<li>id 物品ID(自增ID而已)</li>\n<li>name 物品名称(这里的物品既可能是商品，也肯能是包装商品的一箱，或者更大的商品集合。总之他们各自肯定是有个标识)</li>\n<li>qrcode 物品标识码或标识链接(实际生产物流环节中肯定会有这个标识)</li>\n<li>pid 他们的上一层物品ID</li>\n<li>link 完整的货物集合历史链条。如包含关系：超大托A>托B>箱子C>货物D</li>\n</ul>\n</li>\n</ul>","timeToRead":2,"frontmatter":{"title":"商品码同步实战总结","date":"02 May 2021","tags":["nodejs"],"path":"blog/good-practise-sync-code","excerpt":"项目总结","cover":{"childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='400'%20height='288'%20viewBox='0%200%20400%20288'%20preserveAspectRatio='none'%3e%3cpath%20d='M190%20103c-4%201-13%209-15%2011-2%203-1%2051%201%2054%202%202%2021%208%2026%208%204%200%209-3%2011-5l3-2%205-3%203-3v-26l-1-27-27-9-6%202m2%2075l-10%205c-6%205-7%205-7%2010-1%206-1%206%2013%209%2015%204%2018%204%2028-2l8-4v-5c0-5%200-6-3-8-6-4-21-6-29-5'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":1.3888888888888888,"src":"/static/9757369cb7d5b643993b7f059d41e2c1/a7715/placeholder.jpg","srcSet":"/static/9757369cb7d5b643993b7f059d41e2c1/8f7df/placeholder.jpg 250w,\n/static/9757369cb7d5b643993b7f059d41e2c1/0f3a1/placeholder.jpg 500w,\n/static/9757369cb7d5b643993b7f059d41e2c1/a7715/placeholder.jpg 1000w,\n/static/9757369cb7d5b643993b7f059d41e2c1/7f945/placeholder.jpg 1440w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"path":"blog/BI-Data-Visualization","title":"BI数据可视化","tags":["nodejs"],"excerpt":"项目总结","cover":{"childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='400'%20height='288'%20viewBox='0%200%20400%20288'%20preserveAspectRatio='none'%3e%3cpath%20d='M190%20103c-4%201-13%209-15%2011-2%203-1%2051%201%2054%202%202%2021%208%2026%208%204%200%209-3%2011-5l3-2%205-3%203-3v-26l-1-27-27-9-6%202m2%2075l-10%205c-6%205-7%205-7%2010-1%206-1%206%2013%209%2015%204%2018%204%2028-2l8-4v-5c0-5%200-6-3-8-6-4-21-6-29-5'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":1.3888888888888888,"src":"/static/9757369cb7d5b643993b7f059d41e2c1/4fe8c/placeholder.jpg","srcSet":"/static/9757369cb7d5b643993b7f059d41e2c1/aabdf/placeholder.jpg 150w,\n/static/9757369cb7d5b643993b7f059d41e2c1/9dc27/placeholder.jpg 300w,\n/static/9757369cb7d5b643993b7f059d41e2c1/4fe8c/placeholder.jpg 600w,\n/static/9757369cb7d5b643993b7f059d41e2c1/9842e/placeholder.jpg 900w,\n/static/9757369cb7d5b643993b7f059d41e2c1/47498/placeholder.jpg 1200w,\n/static/9757369cb7d5b643993b7f059d41e2c1/7f945/placeholder.jpg 1440w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"frontmatter":{"path":"blog/activity-component-builder","title":"活动组件开发实战总结","tags":["nodejs"],"excerpt":"项目总结","cover":{"childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='400'%20height='288'%20viewBox='0%200%20400%20288'%20preserveAspectRatio='none'%3e%3cpath%20d='M190%20103c-4%201-13%209-15%2011-2%203-1%2051%201%2054%202%202%2021%208%2026%208%204%200%209-3%2011-5l3-2%205-3%203-3v-26l-1-27-27-9-6%202m2%2075l-10%205c-6%205-7%205-7%2010-1%206-1%206%2013%209%2015%204%2018%204%2028-2l8-4v-5c0-5%200-6-3-8-6-4-21-6-29-5'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":1.3888888888888888,"src":"/static/9757369cb7d5b643993b7f059d41e2c1/4fe8c/placeholder.jpg","srcSet":"/static/9757369cb7d5b643993b7f059d41e2c1/aabdf/placeholder.jpg 150w,\n/static/9757369cb7d5b643993b7f059d41e2c1/9dc27/placeholder.jpg 300w,\n/static/9757369cb7d5b643993b7f059d41e2c1/4fe8c/placeholder.jpg 600w,\n/static/9757369cb7d5b643993b7f059d41e2c1/9842e/placeholder.jpg 900w,\n/static/9757369cb7d5b643993b7f059d41e2c1/47498/placeholder.jpg 1200w,\n/static/9757369cb7d5b643993b7f059d41e2c1/7f945/placeholder.jpg 1440w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"frontmatter":{"path":"blog/koa-booster","title":"Koa-booster 文档介绍","tags":["nodejs"],"excerpt":"让Koa变得更简单","cover":{"childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='400'%20height='288'%20viewBox='0%200%20400%20288'%20preserveAspectRatio='none'%3e%3cpath%20d='M190%20103c-4%201-13%209-15%2011-2%203-1%2051%201%2054%202%202%2021%208%2026%208%204%200%209-3%2011-5l3-2%205-3%203-3v-26l-1-27-27-9-6%202m2%2075l-10%205c-6%205-7%205-7%2010-1%206-1%206%2013%209%2015%204%2018%204%2028-2l8-4v-5c0-5%200-6-3-8-6-4-21-6-29-5'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":1.3888888888888888,"src":"/static/9757369cb7d5b643993b7f059d41e2c1/4fe8c/placeholder.jpg","srcSet":"/static/9757369cb7d5b643993b7f059d41e2c1/aabdf/placeholder.jpg 150w,\n/static/9757369cb7d5b643993b7f059d41e2c1/9dc27/placeholder.jpg 300w,\n/static/9757369cb7d5b643993b7f059d41e2c1/4fe8c/placeholder.jpg 600w,\n/static/9757369cb7d5b643993b7f059d41e2c1/9842e/placeholder.jpg 900w,\n/static/9757369cb7d5b643993b7f059d41e2c1/47498/placeholder.jpg 1200w,\n/static/9757369cb7d5b643993b7f059d41e2c1/7f945/placeholder.jpg 1440w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"frontmatter":{"path":"blog/reading-about-casl","title":"了解CASL后关于权限的思考","tags":["abac"],"excerpt":"一个基于属性的访问控制模块","cover":{"childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='400'%20height='288'%20viewBox='0%200%20400%20288'%20preserveAspectRatio='none'%3e%3cpath%20d='M190%20103c-4%201-13%209-15%2011-2%203-1%2051%201%2054%202%202%2021%208%2026%208%204%200%209-3%2011-5l3-2%205-3%203-3v-26l-1-27-27-9-6%202m2%2075l-10%205c-6%205-7%205-7%2010-1%206-1%206%2013%209%2015%204%2018%204%2028-2l8-4v-5c0-5%200-6-3-8-6-4-21-6-29-5'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":1.3888888888888888,"src":"/static/9757369cb7d5b643993b7f059d41e2c1/4fe8c/placeholder.jpg","srcSet":"/static/9757369cb7d5b643993b7f059d41e2c1/aabdf/placeholder.jpg 150w,\n/static/9757369cb7d5b643993b7f059d41e2c1/9dc27/placeholder.jpg 300w,\n/static/9757369cb7d5b643993b7f059d41e2c1/4fe8c/placeholder.jpg 600w,\n/static/9757369cb7d5b643993b7f059d41e2c1/9842e/placeholder.jpg 900w,\n/static/9757369cb7d5b643993b7f059d41e2c1/47498/placeholder.jpg 1200w,\n/static/9757369cb7d5b643993b7f059d41e2c1/7f945/placeholder.jpg 1440w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"frontmatter":{"path":"blog/happy-talk-about-react-redux","title":"细说React-Redux","tags":["reactjs"],"excerpt":"记录点滴: 从redux过度到了react-redux。记录下相关的有趣的一些点。","cover":{"childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='400'%20height='288'%20viewBox='0%200%20400%20288'%20preserveAspectRatio='none'%3e%3cpath%20d='M190%20103c-4%201-13%209-15%2011-2%203-1%2051%201%2054%202%202%2021%208%2026%208%204%200%209-3%2011-5l3-2%205-3%203-3v-26l-1-27-27-9-6%202m2%2075l-10%205c-6%205-7%205-7%2010-1%206-1%206%2013%209%2015%204%2018%204%2028-2l8-4v-5c0-5%200-6-3-8-6-4-21-6-29-5'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":1.3888888888888888,"src":"/static/9757369cb7d5b643993b7f059d41e2c1/4fe8c/placeholder.jpg","srcSet":"/static/9757369cb7d5b643993b7f059d41e2c1/aabdf/placeholder.jpg 150w,\n/static/9757369cb7d5b643993b7f059d41e2c1/9dc27/placeholder.jpg 300w,\n/static/9757369cb7d5b643993b7f059d41e2c1/4fe8c/placeholder.jpg 600w,\n/static/9757369cb7d5b643993b7f059d41e2c1/9842e/placeholder.jpg 900w,\n/static/9757369cb7d5b643993b7f059d41e2c1/47498/placeholder.jpg 1200w,\n/static/9757369cb7d5b643993b7f059d41e2c1/7f945/placeholder.jpg 1440w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"frontmatter":{"path":"blog/markdown-in-react","title":"Markdown in React","tags":["reactjs"],"excerpt":"记录点滴: react-markdown是一款非常优秀的markdown转html的react组件，但是官方文档是全英文而且也没有说明的太详细，把开发遇到的问题以及实践方法记录下来。","cover":{"childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='400'%20height='288'%20viewBox='0%200%20400%20288'%20preserveAspectRatio='none'%3e%3cpath%20d='M190%20103c-4%201-13%209-15%2011-2%203-1%2051%201%2054%202%202%2021%208%2026%208%204%200%209-3%2011-5l3-2%205-3%203-3v-26l-1-27-27-9-6%202m2%2075l-10%205c-6%205-7%205-7%2010-1%206-1%206%2013%209%2015%204%2018%204%2028-2l8-4v-5c0-5%200-6-3-8-6-4-21-6-29-5'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":1.3888888888888888,"src":"/static/9757369cb7d5b643993b7f059d41e2c1/4fe8c/placeholder.jpg","srcSet":"/static/9757369cb7d5b643993b7f059d41e2c1/aabdf/placeholder.jpg 150w,\n/static/9757369cb7d5b643993b7f059d41e2c1/9dc27/placeholder.jpg 300w,\n/static/9757369cb7d5b643993b7f059d41e2c1/4fe8c/placeholder.jpg 600w,\n/static/9757369cb7d5b643993b7f059d41e2c1/9842e/placeholder.jpg 900w,\n/static/9757369cb7d5b643993b7f059d41e2c1/47498/placeholder.jpg 1200w,\n/static/9757369cb7d5b643993b7f059d41e2c1/7f945/placeholder.jpg 1440w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}}]}},"pageContext":{"postPath":"blog/good-practise-sync-code","translations":[{"hreflang":"en","path":"/blog/good-practise-sync-code"}]}},"staticQueryHashes":["4097791827"]}